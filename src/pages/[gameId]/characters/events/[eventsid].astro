---
import directus from "$services/directus";
import { readItems, readItem } from "@directus/sdk";
import { PUBLIC_DEPLOY_MODE } from "astro:env/client";
let event = {};

const isPreview = PUBLIC_DEPLOY_MODE == "preview";
export const prerender = PUBLIC_DEPLOY_MODE == "publish" ? true : false;

export async function getStaticPaths() {
  const events = await directus.request(
    readItems("events", { fields: ["id"] }),
  );
  return events.map((event) => ({
    params: { eventsId: event.id },
    props: { event },
  }));
}
---
